# レビュー投稿サイト（AI自動スコア算出機能搭載） quick_review_park
2020年12月制作  
いろんなお店のレビューを投稿できるサイトです。レビューか投稿されると、その文章に込められた感情をAPIを用いて分析し、自動でスコアを算出します。
  
デモサイト  
http://35.72.13.68/auth/login.php  
設計書  
https://docs.google.com/spreadsheets/d/1Fw-a5wTGbsl71S6fGIClNfQaewzNzVamZGaab5DRoCo/edit#gid=1665731887

# 開発の目的
## 1 フレームワークなしでアプリケーションを作る
2020年の3月に「名古屋市粗大ごみ回収システム」（https://github.com/DaichiNiwa/nagoya_garbage ）というWebアプリケーションをフレームワーク無しで作りました。その際にもっとこういうことをやってみたかったという課題がいくつか残ったので、それを試してみました。  
また、仕事でLaravelを使っていますが、改めてフレームワークに頼らずに自分で1から作って、PHPの基礎を学び直したいと考えました。そしてフレームワークなしで開発するにあたって、以下の2点を実現することを目指しました。
### オブジェクト指向を取り入れる
「名古屋市粗大ごみ回収システム」ではクラスを使っていませんでした。そのため今回はクラスを利用し、少しでもオブジェクト指向っぽいアーキテクチャにすることを目指しました。
実際モデルはクラスで表現し、部分的にはオブジェクト指向を実現できたかなと思います。

### 複雑なリレーションを実現する
「名古屋市粗大ごみ回収システム」ではテーブル数が少なく、難しいリレーションもありませんでした。そのため今回はある程度複雑になっているリレーションをフレームワークなしで実現することを目指しました。
実際SQLでは前回使わなかったサブクエリなどを使ってみました。

## 2 外部のAPIを利用する
自分のアプリケーションと外部のAPIを連携させるをやってみたかったので実装してみました。またGoogleのCloud Natural Language APIの感情分析の機能に興味があったので、ぜひ使ってみたいと思い導入しました。  
このAPIの概要は別にまとめました。  
https://www.notion.so/Natural-Language-API-faa9a78d46804c65b90a6a87d9a601ad?showMoveTo=true

## 3 決められた期間で完成させ、デプロイする
今回は年末年始の連休5日間で完成させてデプロイするというのを目標に、スピード感と期限を守ることを重視しました。  
実際12月30日から設計書の作成を始めて、1月3日の夜にデプロイ完了することができました。  
(その分コードが多少雑なところもありますが、多めに見てください笑)

# 今後やってみたいこと
今回の開発を踏まえて、今後挑戦してみたい事は以下の通りです。
## 1 フレームワークを作る
今回はモデルにクラスを用いて、部分的にオブジェクト指向やMVCを実現できました。ただきちんとしたMVCフレームワークと比較すると、ルーティングの機能が無いうえ、コントローラーの構造も不完全だと思っています。
そしてどうしたらこれを完成されたアーキテクチャにできるんだろうと考えているうちに、いっそフレームワークを作ってみたいと思うようになりました。2021年の目標として、PHPのフレームワークを作りたいです。
## 2 もっと複雑なSQLを書く
今回は複雑なリレーションをSQLで表現することを目的にしていましたが、思いのほか複雑にサブクエリを使ったり、joinするようなSQLは書けなかったので、もっとゴリゴリ難しいSQLを書いてみたいです。
## 3 PHPUnitでテストを書く
今回は短期間で動く物を完成させることを重視したのでテストを書きませんでしたが、今後をPHPUnitを導入するところから、テストをきちんと書くところまでやっていきたいです。
